(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{793:function(e,o,t){"use strict";t.r(o);var r,n=t(1),a=t.n(n),s=t(4),c=t(10),i=t.n(c),l=t(34),u=t.n(l),h=u()({loader:function(){return t.e(12).then(t.bind(null,1765))},modules:["./WithSearch"],webpack:function(){return[1765]},loading:function(){return null}});var f,p,d=u()({loader:function(){return t.e(12).then(t.bind(null,1764))},modules:["./Box"],webpack:function(){return[1764]},loading:function(){return null}}),b=t(939),y=t.n(b),x=t(940),B=t.n(x);function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,o,t,r){p||(p="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,a=arguments.length-3;if(o||0===a||(o={children:void 0}),o&&n)for(var s in n)void 0===o[s]&&(o[s]=n[s]);else o||(o=n||{});if(1===a)o.children=r;else if(a>1){for(var c=new Array(a),i=0;i<a;i++)c[i]=arguments[i+3];o.children=c}return{$$typeof:p,type:e,key:void 0===t?null:""+t,ref:null,props:o,_owner:null}}function v(){return(v=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function m(e,o){for(var t=0;t<o.length;t++){var r=o[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,o){return(O=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e})(e,o)}function F(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var k=Object(s.e)({searchBoxLabel:(f={id:"node_modules.@redbubble.design-system.react.headerAndFooter.components.SearchBox.searchBoxLabel"},F(f,"id","node_modules.@redbubble.design-system.react.headerAndFooter.components.SearchBox.searchBoxLabel"),F(f,"defaultMessage","Search"),f)}),j=function(e){function o(e){var t,n,s;return function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),n=this,(t=!(s=w(o).call(this,e))||"object"!==g(s)&&"function"!==typeof s?_(n):s).state={searchBoxFocused:!1,searchBoxVisible:e.searchingExperience,searchBoxHeight:"auto"},t.toggleSearch=t.toggleSearch.bind(_(t)),t.handleOnSearchBoxFocus=t.handleOnSearchBoxFocus.bind(_(t)),t.SearchBox=function(e){var o=function(e,o,t,n){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,s=arguments.length-3;if(o||0===s||(o={children:void 0}),o&&a)for(var c in a)void 0===o[c]&&(o[c]=a[c]);else o||(o=a||{});if(1===s)o.children=n;else if(s>1){for(var i=new Array(s),l=0;l<s;l++)i[l]=arguments[l+3];o.children=i}return{$$typeof:r,type:e,key:void 0===t?null:""+t,ref:null,props:o,_owner:null}}(e,{});return function(e){return a.a.createElement(h,e,o)}}(d),t}var t,s,c;return function(e,o){if("function"!==typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),o&&O(e,o)}(o,n["Component"]),t=o,(s=[{key:"handleOnSearchBoxFocus",value:function(){var e=this;this.props.handleSearchBoxInteractions({type:"focus",state:!0},function(){setTimeout(function(){var o=window.innerHeight-e.searchBoxNode.getBoundingClientRect().top;e.setState({searchBoxFocused:!0}),window.innerWidth>=1024||e.setState({searchBoxHeight:"".concat(o,"px")})},1)})}},{key:"toggleSearch",value:function(){var e=this;this.setState(function(o){return o.searchBoxVisible?(e.props.handleSearchBoxInteractions({type:"visible",state:!1}),e.props.handleSearchBoxInteractions({type:"focus",state:!1}),e.setState({searchBoxFocused:!1,searchBoxHeight:"auto"})):e.props.handleSearchBoxInteractions({type:"visible",state:!0}),{searchBoxVisible:!o.searchBoxVisible}})}},{key:"componentWillReceiveProps",value:function(e){e.searchBoxVisible!==this.props.searchBoxVisible&&this.setState({searchBoxVisible:e.searchBoxVisible}),e.searchBoxFocused!==this.props.searchBoxFocused&&(e.searchBoxFocused||this.setState({searchBoxHeight:"auto"}),this.setState({searchBoxFocused:e.searchBoxFocused}))}},{key:"render",value:function(){var e,o=this,t=this.props,r=t.intl,n=t.className,s=t.handleScrollableRef,c=this.state,l=c.searchBoxVisible,u=c.searchBoxFocused,h=c.searchBoxHeight;return S("div",{className:i()(n,B.a.searchBoxWrapper,(F(e={},B.a.searchBoxVisible,l),F(e,B.a.searchBoxFocused,u),e))},void 0,a.a.createElement("div",{className:B.a.searchBox,style:{height:h},ref:function(e){o.searchBoxNode=e}},a.a.createElement(this.SearchBox,v({},this.props,{onSearchBoxFocus:this.handleOnSearchBoxFocus,isOpen:u,handleScrollableRef:s}))),S("button",{className:B.a.toggleSearch,onClick:this.toggleSearch,type:"button"},void 0,S("img",{className:B.a.toggleSearchIcon,src:y.a,alt:r.formatMessage(k.searchBoxLabel)})))}}])&&m(t.prototype,s),c&&m(t,c),o}();j.displayName="SearchBox";o.default=j},939:function(e,o){e.exports="/boom/client/7d331edc30300e59d62b1a427d3a1d0f.svg"},940:function(e,o,t){e.exports={searchBoxWrapper:"styles__searchBoxWrapper--26xu0",searchBox:"styles__searchBox--1IaaG",toggleSearch:"styles__toggleSearch--yq7Lk",toggleSearchIcon:"styles__toggleSearchIcon--1Q6wx",searchBoxVisible:"styles__searchBoxVisible--3IWTe",searchBoxFocused:"styles__searchBoxFocused--34KWO",logo:"styles__logo--3kjY6"}}}]);
//# sourceMappingURL=design-system-header-search-box-6aa5b7ed64854eca891e.js.map